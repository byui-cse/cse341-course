<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="../site/style.css" />
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="../site/global.js"></script>
    <script type="text/javascript" src="../site/rubric.js"></script>
    <script>
        $(function(){
            $("#includedHeader").load("../site/header.html");
        });
        window.onload = function(){ // load global variables
                document.getElementById('g_ponder').innerHTML       = g.n10 + " " + g.ponder;
                document.getElementById('g_ponderSubmit').innerHTML = g.ponderSubmit;
                document.getElementById('g_teachInstructor').innerHTML = g.teachInstructor;
                document.getElementById('g_proveSolution').innerHTML = g.proveSolution;
            }
    </script>
 </head>
 <body>
    <div id="includedHeader"></div>
    <article>
        <h1><span id="g_ponder"></span></h1>
        <h2>Overview</h2>
        <p>For this week’s activity, you’ll be working with dummy data to create an update capability using fetch and asynchronous JavaScript. Below is your dummy data and starting code for your routes:</p>
        <ul>
            <li>
            <p>Dummy data:</p>
            <pre><code class="hljs">{
        "avengers": [
            {
                "name": "Tony Stark"
            },
            {
                "name": "Steve Rogers"
            },
            {
                "name": "Thor Odinson"
            },
            {
                "name": "Bruce Banner"
            },
            {
                "name": "Natasha Romanova"
            },
            {
                "name": "Clint Barton"
            }
        ]
    }</code>
            </pre>
            </li>
            <li>
                <p>Starter code for your routehandler</p>
<pre><code class="hljs">
    const express = <span class="hljs-function">require</span>(<span class="hljs-string">'express'</span>);
    const router = express.<span class="hljs-function">Router</span>();

    // Path to your JSON file, although it can be hardcoded in this file.
    const dummyData = <span class="hljs-function">require</span>(<span class="hljs-string">'../../data/ta10-data.json'</span>)

    router.<span class="hljs-function">get</span>(<span class="hljs-string">'/'</span>, (req, res, next) => {
        res.render(<span class="hljs-string">'pages/teamActivities/ta10'</span>, {
            title: <span class="hljs-string">'Team Activity 10'</span>,
            path: <span class="hljs-string">'/teamActivities/10'</span>,
        });
    });

    router.<span class="hljs-function">get</span>(<span class="hljs-string">'/fetchAll'</span>, (req, res, next) => {
        res.json(dummyData);
    });

    router.<span class="hljs-function">post</span>(<span class="hljs-string">'/insert'</span>, (req, res, next) => {
    <span class="hljs-comment">/************************************************
     * INSERT YOUR WEB ENDPOINT CODE HERE
     ************************************************/</span>
    });</code>
</pre>
            </li>
        </ul>
        <h2>Assignment</h2>
        <ol>
            <li><p>Loop through and display all the dummy data to the prove activity page.</p></li>
            <li><p>Create a web endpoint that adds to the dummy data, preventing duplicates.</p></li>
            <li><p>Utilize that web endpoint with a text input and client-side JavaScript. </p></li>
        </ol>
        <div class="tips">
            <p>NOTE: The route to fetch all data has been completed for you, and for simplicity you will not create a controller. Remember that you will need to use async requests instead of HTML forms!</p>
        </div>
        <h2>Rubric</h2>
        <table class="rubric">
            <thead>
                <tr>
                    <th>Criteria</th>
                    <th>Above and Beyond</th>
                    <th>Meets Requirements</th>
                    <th>Slightly Deficient</th>
                    <th>Significantly Deficient</th>
                    <th>Some Attempt Made</th>
                    <th>No Attempt Made</th>
                    <th>Weight</th>
                </tr>
                <tr>
                    <th></th>
                    <th>100%</th>
                    <th>93%</th>
                    <th>85%</th>
                    <th>70%</th>
                    <th>50%</th>
                    <th>0%</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>GET</td>
                    <td>JSON is brought in and displayed correctly with extra styling</td>
                    <td>JSON is brought in and displayed correctly</td>
                    <td>JSON data is brought in but displayed incorrectly</td>
                    <td>JSON data is partially brought in</td>
                    <td>JSON data is read in incorrectly or errors out</td>
                    <td>JSON data is not read in</td>
                    <td>25%</td>
                </tr>
                <tr>
                    <td>Insertion</td>
                    <td>Extra variables added to dummy code with extra inputs to insert extra data (ex. powers)</td>
                    <td>Text input allows for insertion and prevents duplicates</td>
                    <td>Text input allows for insertion but does not prevent duplicates</td>
                    <td>Text input attempts to insert but errors prevent insertion</td>
                    <td>Text input but does not insert data</td>
                    <td>No text inputs</td>
                    <td>75%</td>
                </tr>
            </tbody>
        </table>
        <h2 id="g_teachInstructor"></h2>
        <p id="g_proveSolution"></p>
        <p class="text-center">
            <a href="https://github.com/byui-cse/cse341-course/tree/master/docs/lesson10/prove-solution" target="_blank">Teacher Solution</a>
            (<a href="prove-solution.zip" target="_blank">Download .zip</a>)
        </p>
        <div id="g_ponderSubmit"></div>
    </article>
</body>
</html>